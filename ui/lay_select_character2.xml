<?xml version="1.0" encoding="UTF-8"?>
<Ui>
  <Theme Name="laySelectChar2">
    <Templates>
      <CheckButton CheckStyle="false" Inherit="" KeyboardEvent="true" Location="21,747,230,72" Name="RoleSelectionTemplate" Show="false" Size="119,72">
        <Label AlignCol="CENTER" Inherit="" Location="15,11,90,18" MouseEvent="false" Name="lbName" Show="true" Size="90,18" Text=""/>
        <Label AlignCol="CENTER" Inherit="" Location="15,30,90,18" MouseEvent="false" Name="lbLevel" Show="true" Size="90,18" Text=""/>
        <Label AlignCol="CENTER" Inherit="" Location="15,49,90,18" MouseEvent="false" Name="lbPosition" Show="true" Size="90,18" Text=""/>
        <Hint/>
        <PushedImage File="tz_013" Source="0,279,120,59"/>
        <CheckImage File="tz_013" Source="0,279,120,59"/>
        <Scripts>
          <OnLoad>RoleSelection_OnLoad(self);</OnLoad>
          <OnLClick>RoleSelection_OnLClick(self);</OnLClick>
          <OnKeyDown>RoleSelection_OnKeyDown(self, key);</OnKeyDown>
        </Scripts>
        <BackgroundImage File="tz_013" Source="392,275,120,59"/>
      </CheckButton>
    </Templates>
  </Theme>
  <Script file="lay_select_character2.lua"/>
  <Layer Name="laySelectChar" Show="false">
    <Widget Inherit="TemplateLayerFull" Name="lbLayerSelectChar2" Show="false">
      <Form Inherit="NoTitleBarForm" Location="959,10,300,512" Name="frmSelectCharacter" Show="false" Size="256,426">
        <Anchors>
          <Anchor offset="0,20" point="TOP"/>
          <Anchor offset="-10,0" point="RIGHT"/>
        </Anchors>
        <Label Inherit="" Location="0,-1,256,256" Name="532" Show="true">
          <BackgroundImage File=""/>
        </Label>
        <Label Inherit="" Location="0,255,256,170" Name="474" Show="true">
          <BackgroundImage File="" Source="1,0,256,170"/>
        </Label>
        <Label AlignCol="CENTER" Inherit="" Location="43,28,170,18" Name="lbServerName" Show="true" Size="170,18" Text="$L:201$">
          <Anchors>
            <Anchor point="CENTERH"/>
            <Anchor offset="0,28" point="TOP"/>
          </Anchors>
        </Label>
        <Button Inherit="PushButton" Location="78,59,100,24" Name="btSelectServer" Show="true" Size="100,24" Text="$L:202$">
          <Anchors>
            <Anchor point="CENTERH"/>
            <Anchor offset="0,10" point="TOP" relativePoint="BOTTOM" relativeTo="lbServerName"/>
          </Anchors>
        </Button>
        <CheckButton CheckStyle="false" Inherit="" Location="11,70,230,72" Name="ckbSelectChar00" Show="fals" Size="236,72">
          <Anchors>
            <Anchor offset="10,0" point="LEFT" relativePoint="LEFT"/>
            <Anchor offset="0,10" point="TOP" relativePoint="BOTTOM" relativeTo="btSelectServer"/>
          </Anchors>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbName" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbLevel" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbName"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbPosition" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="5,0" point="LEFT"/>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbLevel"/>
            </Anchors>
          </Label>
          <PushedImage File=""/>
          <CheckImage File=""/>
        </CheckButton>
        <CheckButton CheckStyle="false" Inherit="" Location="10,140,236,72" Name="ckbSelectChar01" Show="fals" Size="236,72">
          <Anchors>
            <Anchor offset="10,0" point="LEFT" relativePoint="LEFT"/>
            <Anchor offset="0,2" point="TOP" relativePoint="BOTTOM" relativeTo="ckbSelectChar00"/>
          </Anchors>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbName" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbLevel" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbName"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbPosition" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="5,0" point="LEFT"/>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbLevel"/>
            </Anchors>
          </Label>
          <PushedImage File=""/>
          <CheckImage File=""/>
        </CheckButton>
        <CheckButton CheckStyle="false" Inherit="" Location="9,232,280,72" Name="ckbSelectChar02" Show="fals" Size="236,72">
          <Anchors>
            <Anchor offset="10,0" point="LEFT" relativePoint="LEFT"/>
            <Anchor offset="0,2" point="TOP" relativePoint="BOTTOM" relativeTo="ckbSelectChar01"/>
          </Anchors>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbName" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbLevel" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbName"/>
              <Anchor offset="5,0" point="LEFT"/>
            </Anchors>
          </Label>
          <Label Inherit="" Location="10,10,100,18" MouseEvent="false" Name="lbPosition" Show="true" Size="200,18">
            <Anchors>
              <Anchor offset="5,0" point="LEFT"/>
              <Anchor offset="0,5" point="TOP" relativePoint="BOTTOM" relativeTo="lbLevel"/>
            </Anchors>
          </Label>
          <CheckImage File=""/>
          <PushedImage File=""/>
        </CheckButton>
        <Button Inherit="PushButton" Location="21,40,100,24" Name="btCreateRole" Show="true" Size="100,24" Text="$L:203$">
          <Anchors>
            <Anchor offset="0,-14" point="BOTTOM" relativePoint="BOTTOM"/>
            <Anchor point="CENTERH"/>
          </Anchors>
        </Button>
      </Form>
      <Label BackgroundColor="#80000000" Inherit="" Location="10,10,70,18" Name="lbMask" Show="false">
        <Anchors>
          <Anchor point="LEFT"/>
          <Anchor point="RIGHT"/>
          <Anchor point="TOP"/>
          <Anchor point="BOTTOM"/>
        </Anchors>
      </Label>
      <Form Inherit="NoTitleBarForm" Location="341,158,520,430" Name="frServies" Show="false" Size="540,450">
        <Label Inherit="bg1" Location="6,18,480,380" Name="809" Show="true"/>
        <Label Inherit="" Location="256,0,256,256" Name="810" Show="false">
          <BackgroundImage File=""/>
        </Label>
        <Label Inherit="" Location="0,256,256,174" Name="849" Show="false">
          <BackgroundImage File="" Source=""/>
        </Label>
        <Label Inherit="" Location="256,256,256,174" Name="889" Show="false">
          <BackgroundImage File="" Source=""/>
        </Label>
        <Label Inherit="bg3" Location="21,56,450,300" Name="7902" Show="true"/>
        <Button Inherit="PushButton" Location="282,364,70,20" Name="btServiesOk" Show="true" Text="$L:205$"/>
        <Button Inherit="PushButton" Location="395,364,70,20" Name="btServiesCancel" Show="true" Text="$L:206$">
          <Scripts>
            <OnLClick>uiCharStageReturn();</OnLClick>
          </Scripts>
        </Button>
        <ListBox Inherit="" Location="26,61,440,288" Name="lstServers" Show="true">
          <BorderImage/>
        </ListBox>
        <Label Inherit="TemplateNormalTitle" Location="0,2,490,47" Name="lbTitle" Show="true"/>
        <Label Inherit="" Location="364,12,130,24" Name="lbTitle1" Show="false">
          <BackgroundImage File="tz_010" Source="316,4,145,25"/>
        </Label>
        <Label AlignCol="CENTER" Inherit="" Location="211,26,70,18" Name="1169" Show="true" Text="$L:204$"/>
        <Anchors>
          <Anchor point="CENTERV"/>
          <Anchor point="CENTERH"/>
        </Anchors>
      </Form>
      <Form Inherit="NoTitleBarForm" Location="941,20,256,512" Name="frmPin" Show="false" Size="256,512" Level="0">
        <Label Inherit="bg1" Location="0,.0,256,512" Name="2021" Show="true"/>
        <Anchors>
          <Anchor point="CENTERH"/>
          <Anchor point="CENTERV"/>
        </Anchors>
        <Label Inherit="" Location="0,0,256,256" Name="lbBg1" Show="true">
          <BackgroundImage File=""/>
        </Label>
        <Label Inherit="" Location="1,253,256,256" Name="lbBg2" Show="true">
          <BackgroundImage File="" Source=""/>
        </Label>
        <Label AlignCol="CENTER" AlignLine="CENTER" Inherit="" Location="40,5,170,22" Name="lbPinName" Show="true" Size="170,22" Text="$L:201$"/>
        <Button Inherit="PushButton" Location="39,473,60,22" Name="btPinOk" Show="true" Size="100,24" Text="$L:918$"/>
        <Button Inherit="PushButton" Location="152,473,60,22" Name="btPinClear" Show="true" Size="100,24" Text="$L:919$"/>
        <Label BackgroundColor="" Inherit="" Location="20,29,216,220" Name="lbPinNumberBg" Show="true"/>
        <Label BackgroundColor="#99ee683a" Inherit="" Location="212,29,24,220" Name="lbPinX" Show="true"/>
        <Label BackgroundColor="#99fff478" Inherit="" Location="20,229,216,20" Name="lbPinY" Show="true"/>
        <Form Inherit="NoTitleBarForm" Location="48,306,160,160" Name="frmChekPoint" Show="true">
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="3,2,24,24" Name="btPoint1" Show="true" Text=" 1">
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
            <DisabledImage File="" Source=""/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="29,2,24,24" Name="btPoint2" Show="true" Text=" 2">
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <DisabledImage File="" Source=""/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="55,2,24,24" Name="btPoint3" Show="true" Text=" 3">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="81,2,24,24" Name="btPoint4" Show="true" Text=" 4">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="107,2,24,24" Name="btPoint5" Show="true" Text=" 5">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="3,27,24,24" Name="btPoint6" Show="true" Text=" 6">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="29,27,24,24" Name="btPoint7" Show="true" Text=" 7">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="55,27,24,24" Name="btPoint8" Show="true" Text=" 8">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="81,27,24,24" Name="btPoint9" Show="true" Text=" 9">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Button AlignCol="CENTER" AlignLine="CENTER" Enable="true" Inherit="" Location="107,27,24,24" Name="btPoint0" Show="true" Text=" 0">
            <DisabledImage File="" Source=""/>
            <NormalImage File="tz_010" Source="490,-1,22,21"/>
            <PushedImage File="tz_010" Source="490,30,23,20"/>
          </Button>
          <Label AlignCol="CENTER" AlignLine="CENTER" Inherit="" Location="41,67,80,40" Name="lbPinIndex" Show="true"/>
        </Form>
        <EditBox AlignCol="CENTER" AlignLine="CENTER" EnableInput="false" Inherit="" Location="20,258,216,40" Name="lbPinIndex" Show="true" WordWrap="true"/>
      </Form>
      <CheckButton Inherit="RoleSelectionTemplate" Location="21,747,230,72" Name="ckbSelectChar0">
        <Anchors>
          <Anchor offset="0,-80" point="BOTTOM"/>
          <Anchor point="CENTERH"/>
        </Anchors>
        <Label Inherit="" Location="15,49,90,18" Name="1814" Show="true"/>
      </CheckButton>
      <CheckButton Inherit="RoleSelectionTemplate" Location="281,747,230,72" Name="ckbSelectChar1">
        <Anchors>
          <Anchor offset="0,-80" point="BOTTOM"/>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="ckbSelectChar0"/>
        </Anchors>
      </CheckButton>
      <CheckButton Inherit="RoleSelectionTemplate" Location="541,747,230,72" Name="ckbSelectChar2">
        <Anchors>
          <Anchor offset="0,-80" point="BOTTOM"/>
          <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="ckbSelectChar0"/>
        </Anchors>
      </CheckButton>
      <Scripts>
        <OnLoad>self:RegisterScriptEventNotify("ReceiveRoleInfoList");
	    self:RegisterScriptEventNotify("SelectCharChanged");
		self:RegisterScriptEventNotify("ReceiveServerInfoList");</OnLoad>
        <OnEvent>
		if (event == "ReceiveRoleInfoList") then
		  UpdateRoleList();
		elseif (event == "SelectCharChanged") then
		  RoleSelection_SelectChanged(arg[1]);
		elseif (event == "ReceiveServerInfoList") then
		  RoleSelection_ReceiveServerInfoList();
		end</OnEvent>
      </Scripts>
      <Label Inherit="" Location="0,0,270,218" MouseEvent="true" MouseMove="true" Name="lbContainer" Pick="false" Show="false">
        <Anchors>
          <Anchor point="LEFT"/>
          <Anchor point="TOP"/>
          <Anchor point="RIGHT"/>
          <Anchor point="BOTTOM"/>
        </Anchors>
        <Button CDTime="30000" Inherit="PushButton" Location="10,10,100,24" Name="btEnterGame" Show="true" Size="100,24" Text="$L:198$">
          <Anchors>
            <Anchor offset="0,-20" point="BOTTOM"/>
            <Anchor point="CENTERH"/>
          </Anchors>
          <Scripts>
            <OnLClick>uiCharEnterGame();</OnLClick>
          </Scripts>
        </Button>
        <Button CDTime="5000" Inherit="PushButton" Location="83,377,100,24" Name="btReturn" Show="true" Size="100,24" Text="$L:199$">
          <Anchors>
            <Anchor offset="0,-20" point="BOTTOM"/>
            <Anchor offset="-20,0" point="RIGHT"/>
          </Anchors>
          <Scripts>
            <OnLClick>uiCharStageReturn();</OnLClick>
          </Scripts>
        </Button>
        <Button CDTime="5000" Inherit="PushButton" Location="398,106,100,24" Name="btDelRole" Show="false" Size="100,24" Text="$L:200$">
          <Anchors>
            <Anchor offset="0,-20" point="BOTTOM"/>
            <Anchor offset="-20,0" point="RIGHT" relativePoint="LEFT" relativeTo="btReturn"/>
          </Anchors>
          <Scripts>
            <OnLClick>uiCharDeleteRole();</OnLClick>
          </Scripts>
        </Button>
        <Button CDTime="5000" Inherit="PushButton" Location="21,40,100,24" Name="btCreateRole" Show="true" Size="100,24" Text="$L:203$">
          <Anchors>
            <Anchor offset="0,-14" point="BOTTOM"/>
            <Anchor offset="20,0" point="LEFT"/>
          </Anchors>
          <Scripts>
            <OnLClick>uiCharCreateCharacter();</OnLClick>
			<OnUpdate Timer="1000">
				if self.AutoEnter then
					self.AutoEnter = false
					local count = uiCharGetRoleCount(true)
					if count == 0 then
						uiCharCreateCharacter()
					end
				end</OnUpdate>
          </Scripts>
        </Button>
        <Button Inherit="" Location="472,840,100,24" Name="btLeft" Show="true" Size="32,32">
          <Anchors>
            <Anchor offset="0,-6" point="BOTTOM" relativePoint="TOP" relativeTo="btEnterGame"/>
            <Anchor offset="45,0" point="RIGHT" relativePoint="LEFT" relativeTo="btEnterGame"/>
          </Anchors>
          <NormalImage File="tz_011" Source="68,256,32,32"/>
          <PushedImage File="tz_011" Source="102,256,32,32"/>
          <Scripts>
            <OnLDown>uiCharStartTurnLeft();</OnLDown>
            <OnLUp>uiCharStopTurn();</OnLUp>
            <OnLeave>uiCharStopTurn();</OnLeave>
          </Scripts>
        </Button>
        <Button Inherit="" Location="472,840,100,24" Name="btRight" Show="true" Size="32,32">
          <Anchors>
            <Anchor offset="0,-6" point="BOTTOM" relativePoint="TOP" relativeTo="btEnterGame"/>
            <Anchor offset="-45,0" point="LEFT" relativePoint="RIGHT" relativeTo="btEnterGame"/>
          </Anchors>
          <NormalImage File="tz_011" Source="0,256,32,32"/>
          <PushedImage File="tz_011" Source="34,256,32,32"/>
          <Scripts>
            <OnLDown>uiCharStartTurnRight();</OnLDown>
            <OnLUp>uiCharStopTurn();</OnLUp>
            <OnLeave>uiCharStopTurn();</OnLeave>
          </Scripts>
        </Button>
      </Label>
    </Widget>
  </Layer>
</Ui>
